import mx.rpc.ResultEvent;import mx.rpc.FaultEvent;import mx.rpc.Responder;import org.osflash.arp.CommandTemplate;import com.jxl.shuriken.core.Collection;import com.jxl.threesixtyflex.events.GetScheduleByDayEvent;import com.jxl.threesixtyflex.business.GetScheduleByDayDelegate;import com.jxl.threesixtyflex.model.ModelLocator;import com.jxl.threesixtyflex.vo.EventVO;class com.jxl.threesixtyflex.commands.GetScheduleByDayCommand extends CommandTemplate implements Responder{	private function executeOperation(event:GetScheduleByDayEvent):Void	{		ModelLocator.getInstance().selectedDay = event.day;				// Local Debugging//		var a:Array = [];//		var ae:EventVO = new EventVO();//		ae.name = "test";//		ae.track = "test";//		ae.speaker = "Dude";//		var today:Date = new Date();//		var oneHour:Date = new Date();//		oneHour.setHours(oneHour.getHours());//		ae.startTime = today;//		ae.endTime = oneHour;//		a.push(ae);//		a.push(ae);//		a.push(ae);//		var re:ResultEvent = new ResultEvent(a);//		onResult(re);//		return;						var gsbdd:GetScheduleByDayDelegate = new GetScheduleByDayDelegate(this);		gsbdd.getScheduleByDay(event.day);	}		public function onResult(result:ResultEvent):Void	{		//trace("------------------");		//trace("GetScheduleByDayCommand::onResult");		var o = result.result;		if(typeof(o) == "string")		{			super.result(o);		}		else if(o instanceof Array)		{			var sortByStart:Function = function(a, b):Number			{				var ae:EventVO = EventVO(a);				var be:EventVO = EventVO(b);				var ah:Number = ae.startTime.getHours();				var bh:Number = be.startTime.getHours();				if(ah < bh)				{					return -1;				}				else if(ah > bh)				{					return 1;				}				else				{					return 0;				}			};			o.sort(sortByStart);			var col:Collection = new Collection(o);			ModelLocator.getInstance().events = col;			super.result(true);		}	}		public function onFault(status:FaultEvent):Void	{		super.fault(false);	}}